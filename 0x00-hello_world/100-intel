#!/bin/bash

# Get the C file name from the $CFILE variable
C_FILE="$CFILE"

# Check if the C file exists
if [ -f "$C_FILE" ]; then
    # Generate assembly code and save it to an output file with .s extension
    OUTPUT_FILE="${C_FILE%.c}.s"
    gcc -S -masm=intel "$C_FILE" -o "$OUTPUT_FILE"
    
    # Check if assembly generation was successful
    if [ $? -eq 0 ]; then
        echo "Assembly code generated and saved to '$OUTPUT_FILE'."
    else
        echo "Failed to generate assembly code."
    fi
else
    echo "C file '$C_FILE' not found."
fi
